# スクレイピングスクリプト

## CREA ログインセッション保存

### 事前準備

`.env.local` に以下の環境変数を設定してください：

```env
COUBIC_EMAIL=your-email@example.com
COUBIC_PASSWORD=your-password
```

### 実行方法

```bash
npx tsx scripts/save-crea-auth.ts
```

### 動作

1. ブラウザウィンドウが開きます（headless: false）
2. Coubicのログインページへ自動で移動
3. メールアドレスとパスワードを自動入力
4. ログインボタンをクリック
5. ログイン成功後、セッション情報を `auth-crea.json` に保存
6. ブラウザが自動で閉じます

### 注意事項

- `auth-crea.json` には機密情報が含まれるため、Gitにコミットしないでください（`.gitignore` に追加済み）
- セッションの有効期限が切れた場合は、再度このスクリプトを実行してください
- 初回のみ実行が必要で、以降はこのファイルを使ってログイン不要でスクレイピングできます

### トラブルシューティング

**ログインに失敗する場合:**
- `.env.local` のメールアドレスとパスワードが正しいか確認
- Coubicのサイト構造が変更されている可能性があります
- ブラウザウィンドウで手動ログインを試してみてください

**セレクタが見つからない場合:**
- スクリプト内のセレクタを最新のページ構造に合わせて修正が必要です
