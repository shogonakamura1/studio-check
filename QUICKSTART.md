# ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰

## ðŸš€ 5åˆ†ã§ãƒ‡ãƒ—ãƒ­ã‚¤

### ã‚¹ãƒ†ãƒƒãƒ—1: èªè¨¼æƒ…å ±ã‚’æº–å‚™

```bash
# 1. ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# 2. .env.localã‚’ä½œæˆ
cat > .env.local << EOF
COUBIC_EMAIL=your-email@example.com
COUBIC_PASSWORD=your-password
EOF

# 3. èªè¨¼æƒ…å ±ã‚’ä¿å­˜
npm run auth:crea

# 4. ç’°å¢ƒå¤‰æ•°ç”¨ã®JSONæ–‡å­—åˆ—ã‚’ç”Ÿæˆ
npm run auth:export
```

ðŸ‘† å‡ºåŠ›ã•ã‚ŒãŸJSONæ–‡å­—åˆ—ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„

### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã‚’é¸æŠž

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³A: Vercelï¼ˆæœ€é€Ÿã ãŒProãƒ—ãƒ©ãƒ³æŽ¨å¥¨ï¼‰

```bash
# Gitã«ãƒ—ãƒƒã‚·ãƒ¥
git add .
git commit -m "Initial commit"
git push origin main

# Vercelã«ãƒ‡ãƒ—ãƒ­ã‚¤
npm i -g vercel
vercel

# ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
# https://vercel.com/[your-project]/settings/environment-variables
# CREA_AUTH_STATE = [ã‚¹ãƒ†ãƒƒãƒ—1ã§ã‚³ãƒ”ãƒ¼ã—ãŸJSON]
# Environment: Production ã«ãƒã‚§ãƒƒã‚¯

# å†ãƒ‡ãƒ—ãƒ­ã‚¤
vercel --prod
```

**æ³¨æ„**: Hobby ãƒ—ãƒ©ãƒ³ã¯10ç§’åˆ¶é™ã®ãŸã‚ã€CREAã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãŒå¤±æ•—ã—ã¾ã™ã€‚**Pro ãƒ—ãƒ©ãƒ³ï¼ˆ$20/æœˆï¼‰ã‚’æŽ¨å¥¨**ã€‚

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³B: Render.comï¼ˆç„¡æ–™ãƒ»åˆ¶é™ãªã—ãƒ»æŽ¨å¥¨ï¼‰

1. [Render.com](https://render.com)ã«ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—
2. "New +" â†’ "Web Service"
3. GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’æŽ¥ç¶š
4. è¨­å®š:
   - **Build Command**: è‡ªå‹•æ¤œå‡ºï¼ˆrender.yamlä½¿ç”¨ï¼‰
   - **Start Command**: è‡ªå‹•æ¤œå‡º
5. Environment Variables:
   - `CREA_AUTH_STATE` = [ã‚¹ãƒ†ãƒƒãƒ—1ã§ã‚³ãƒ”ãƒ¼ã—ãŸJSON]
6. "Create Web Service"

âœ… ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ï¼

### ã‚¹ãƒ†ãƒƒãƒ—3: å‹•ä½œç¢ºèª

```bash
# APIã‚’ãƒ†ã‚¹ãƒˆ
curl "https://your-domain.com/api/availability?studios=fukuokahonten&date=2026-01-27"

# CREAã‚’ãƒ†ã‚¹ãƒˆ
curl "https://your-domain.com/api/availability?studios=crea&date=2026-01-27"
```

## ðŸ“Š ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®æ¯”è¼ƒ

| ã‚µãƒ¼ãƒ“ã‚¹ | ç„¡æ–™æž  | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | Playwright | æŽ¨å¥¨åº¦ |
|---------|--------|-------------|-----------|--------|
| Vercel Hobby | âœ… | 10ç§’ | âŒ ä¸ååˆ† | â­â­ |
| Vercel Pro | âŒ ($20/æœˆ) | 60ç§’ | âœ… å¿«é© | â­â­â­â­â­ |
| Render.com | âœ… | åˆ¶é™ãªã— | âœ… å¿«é© | â­â­â­â­â­ |
| Railway | âœ… | åˆ¶é™ãªã— | âœ… å¿«é© | â­â­â­â­ |
| Fly.io | âœ… | åˆ¶é™ãªã— | âœ… å¿«é© | â­â­â­â­ |

## âš ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼: "èªè¨¼æƒ…å ±ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"

**åŽŸå› **: ç’°å¢ƒå¤‰æ•°`CREA_AUTH_STATE`ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„

**è§£æ±º**:
1. ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã§ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª
2. `npm run auth:export`ã§æ­£ã—ã„JSONæ–‡å­—åˆ—ã‚’å–å¾—
3. **Productionç’°å¢ƒ**ã«ã‚‚è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
4. å†ãƒ‡ãƒ—ãƒ­ã‚¤

### ã‚¨ãƒ©ãƒ¼: "Executable doesn't exist at..."

**åŽŸå› **: Playwrightã®ãƒ–ãƒ©ã‚¦ã‚¶ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„

**è§£æ±º**: `package.json`ã«`postinstall`ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆæ—¢ã«è¿½åŠ æ¸ˆã¿ï¼‰

### ã‚¨ãƒ©ãƒ¼: Timeout / Function execution time exceeded

**åŽŸå› **: ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆåˆ¶é™

**è§£æ±º**:
- Vercel Hobbyãƒ—ãƒ©ãƒ³ â†’ Proãƒ—ãƒ©ãƒ³ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
- ã¾ãŸã¯ Render.com ãªã©ã«ç§»è¡Œ

### CREAã®ç©ºãçŠ¶æ³ãŒå–å¾—ã§ããªã„

**åŽŸå› **: ã‚»ãƒƒã‚·ãƒ§ãƒ³æœŸé™åˆ‡ã‚Œ

**è§£æ±º**:
1. ãƒ­ãƒ¼ã‚«ãƒ«ã§`npm run auth:crea`ã‚’å†å®Ÿè¡Œ
2. `npm run auth:export`ã§æ–°ã—ã„JSONå–å¾—
3. ç’°å¢ƒå¤‰æ•°ã‚’æ›´æ–°
4. å†ãƒ‡ãƒ—ãƒ­ã‚¤

## ðŸ“š è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [DEPLOYMENT.md](./DEPLOYMENT.md) - è©³ç´°ãªãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †
- [README.md](./README.md) - é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

## ðŸ’¡ ãƒ’ãƒ³ãƒˆ

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
npm run dev

# http://localhost:3000 ã§ã‚¢ã‚¯ã‚»ã‚¹
```

### ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ‘ãƒ¼å˜ä½“ãƒ†ã‚¹ãƒˆ

```bash
# ç¦å²¡å¸‚æ°‘ä¼šé¤¨
npm run test:civic-hall

# CREA
npm run test:crea

# å…¨ã‚µã‚¤ãƒˆä¸¦åˆ—ï¼ˆæœ€é€Ÿï¼‰
npm run test:parallel

# èªè¨¼è¨­å®šç¢ºèª
npm run test:auth
```

### ã‚»ãƒƒã‚·ãƒ§ãƒ³æ›´æ–°ã®è‡ªå‹•åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

å®šæœŸçš„ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æ›´æ–°ã™ã‚‹å ´åˆï¼š

```bash
# crontabã§æ¯Žé€±å®Ÿè¡Œ
0 0 * * 0 cd /path/to/studio-check && npm run auth:crea && npm run auth:export
```

## ðŸ†˜ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆã¯ã€ä»¥ä¸‹ã‚’ç¢ºèªï¼š

1. Node.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³: 18.17ä»¥ä¸Š
2. `npm install`ãŒæ­£å¸¸ã«å®Œäº†ã—ã¦ã„ã‚‹ã‹
3. `.env.local`ã«æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹
4. ãƒ­ã‚°ã‚’ç¢ºèªï¼ˆVercel/Renderã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰
